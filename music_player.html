<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Web Music Player</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      text-align: center;
      background-color: #f4f4f4;
      transition: background 0.3s, color 0.3s;
    }

    body.dark {
      background: #121212;
      color: white;
    }

    h1 {
      margin-bottom: 10px;
    }

    .controls button {
      margin: 5px;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      background: #007bff;
      color: white;
      font-size: 14px;
    }

    .controls button:hover {
      background: #0056b3;
    }

    .volume {
      margin: 15px;
    }

    .playlist {
      margin-top: 20px;
      text-align: left;
      max-width: 400px;
      margin-left: auto;
      margin-right: auto;
    }

    .playlist li {
      list-style: none;
      padding: 8px;
      cursor: pointer;
      border-bottom: 1px solid #ccc;
    }

    .playlist li:hover {
      background: #eee;
    }

    body.dark .playlist li:hover {
      background: #333;
    }

    .search-box {
      margin-top: 15px;
    }

    .dark-toggle {
      margin-top: 15px;
      padding: 8px 12px;
      cursor: pointer;
      border-radius: 5px;
      border: none;
    }
  </style>
</head>
<body>
  <h1>ðŸŽµ Web Music Player</h1>

  <!-- Upload -->
  <input type="file" id="fileInput" accept="audio/*" multiple><br><br>

  <!-- Controls -->
  <div class="controls">
    <button onclick="playMusic()">Play</button>
    <button onclick="pauseMusic()">Pause</button>
    <button onclick="nextTrack()">Next</button>
    <button onclick="prevTrack()">Previous</button>
  </div>

  <!-- Volume -->
  <div class="volume">
    <label>Volume: </label>
    <input type="range" id="volume" min="0" max="1" step="0.1" value="1">
  </div>

  <!-- Search -->
  <div class="search-box">
    <input type="text" id="search" placeholder="Search music...">
  </div>

  <!-- Playlist -->
  <ul class="playlist" id="playlist"></ul>

  <!-- Dark Mode -->
  <button class="dark-toggle" onclick="toggleDarkMode()">ðŸŒ™ Toggle Dark Mode</button>

  <!-- Audio -->
  <audio id="audioPlayer" controls style="margin-top:20px; width: 80%;"></audio>

  <script>
    const fileInput = document.getElementById("fileInput");
    const playlist = document.getElementById("playlist");
    const audioPlayer = document.getElementById("audioPlayer");
    const searchInput = document.getElementById("search");
    const volumeSlider = document.getElementById("volume");

    let tracks = [];
    let currentTrack = 0;

    // Upload files
    fileInput.addEventListener("change", (e) => {
      const files = Array.from(e.target.files);
      files.forEach(file => {
        const url = URL.createObjectURL(file);
        tracks.push({ name: file.name, url });
      });
      renderPlaylist();
    });

    // Render playlist
    function renderPlaylist(filter = "") {
      playlist.innerHTML = "";
      tracks
        .filter(track => track.name.toLowerCase().includes(filter.toLowerCase()))
        .forEach((track, index) => {
          const li = document.createElement("li");
          li.textContent = track.name;
          li.onclick = () => loadTrack(index);
          playlist.appendChild(li);
        });
    }

    // Load track
    function loadTrack(index) {
      currentTrack = index;
      audioPlayer.src = tracks[index].url;
      audioPlayer.play();
    }

    // Controls
    function playMusic() { audioPlayer.play(); }
    function pauseMusic() { audioPlayer.pause(); }

    function nextTrack() {
      currentTrack = (currentTrack + 1) % tracks.length;
      loadTrack(currentTrack);
    }

    function prevTrack() {
      currentTrack = (currentTrack - 1 + tracks.length) % tracks.length;
      loadTrack(currentTrack);
    }

    // Volume control
    volumeSlider.addEventListener("input", () => {
      audioPlayer.volume = volumeSlider.value;
    });

    // Search filter
    searchInput.addEventListener("input", (e) => {
      renderPlaylist(e.target.value);
    });

    // Dark mode
    function toggleDarkMode() {
      document.body.classList.toggle("dark");
    }
  </script>
</body>
</html>
